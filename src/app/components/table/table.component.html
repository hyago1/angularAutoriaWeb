
<div class="divEdit" *ngIf="editMode">
  <form (ngSubmit)="onEditSubmit()">

    <mat-form-field style="margin-inline: 5px;" class="example-full-width">
      <mat-label>Nome</mat-label>
      <input matInput    [(ngModel)]="selectedProduct.name" name="name" required>
    </mat-form-field>
    <mat-form-field style="margin-inline: 5px;" class="example-full-width">
      <mat-label>Preço</mat-label>
      <input matInput    [(ngModel)]="selectedProduct.price" name="price" required>
    </mat-form-field>
   
    <mat-form-field style="margin-inline: 5px;" class="example-full-width">
      <mat-label>Descrição</mat-label>
      <input  matInput    [(ngModel)]="selectedProduct.description" name="description" required>
    </mat-form-field>
    <mat-form-field style="margin-inline: 5px;" class="example-full-width">
      <mat-label>Categoria</mat-label>
      <input  matInput    [(ngModel)]="selectedProduct.category" name="category" required>
    </mat-form-field><br>
    <button mat-button type="submit">Salvar</button>
    <button mat-button type="button" (click)="cancelEdit()">Cancelar</button>
  </form>
</div>



<div class="table-container" style="border-radius: 80px;">

  <mat-form-field style="width: 50%;">
    <mat-label>Filtro</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="Filtrar produtos">
  </mat-form-field>
  <button  (click)="createProduct()" mat-button>Adcionar Produto</button>


  <table mat-table [dataSource]="dataSource" matSort>

    <!-- Coluna ID -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
      <td mat-cell *matCellDef="let produto">{{ produto.id }}</td>
    </ng-container>

    <!-- Coluna Nome -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Nome</th>
      <td mat-cell *matCellDef="let produto">{{ produto.name }}</td>
    </ng-container>

    <!-- Coluna Preço -->
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Preço</th>
      <td mat-cell *matCellDef="let produto">{{ produto.price }}</td>
    </ng-container>

    <!-- Coluna Descrição -->
    <ng-container matColumnDef="description">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Descrição</th>
      <td mat-cell *matCellDef="let produto">{{ produto.description }}</td>
    </ng-container>
       <!-- Coluna Descrição -->
       <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Categoria</th>
        <td mat-cell *matCellDef="let produto">{{ produto.category }}</td>
      </ng-container>

    <!-- Coluna Ações -->
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Ações</th>
      <td mat-cell *matCellDef="let produto">
        <div style="display: flex;">
          <button mat-button color="warn" (click)="deletarProduto(produto.id)">Excluir</button>
          <button mat-button color="warn" (click)="editProduto(produto)">Editar</button>
        </div>
        

      </td>

    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <mat-paginator [pageSize]="5"></mat-paginator>
</div>





